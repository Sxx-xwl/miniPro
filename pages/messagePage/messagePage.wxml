<!--pages/messagePage/messagePage.wxml-->
<!-- é¡¶éƒ¨é€šçŸ¥æ  -->
<van-notice-bar color="#1989fa" background="#ecf9ff" left-icon="phone" class="notice">
  åˆ«çæ‰¯å¥¥ï¼ä½ å·²ç»è¿›å…¥ç½‘è­¦çš„ç›‘æ§èŒƒå›´äº†ï¼ğŸ‘€
</van-notice-bar>
<!-- ç•™è¨€åˆ—è¡¨ -->
<view class="messageList">
  <scroll-view scroll-y="true" class="list">
    <view class="list-scroll-view">
      <block class="commentsBlock" wx:for="{{list}}" wx:key="index">

        <view class="commentsInfo">
          <view class="commentPart1">
            <van-image round width="2rem" height="2rem" src="{{item.portrait}}" />
            <view class="commentName">{{item.userName}}</view>
          </view>
          <view class="commentPart2">
            <view class="commentPart3">
              <view class="comment" wx:if="{{item.comments}}">{{item.comments}}</view>
              <van-image class="img" width="5rem" height="5rem" fit="contain" wx:if="{{item.cloudPath}}" src="{{item.cloudPath}}" />
            </view>
            <view class="commentData">{{item.submitTime}}</view>
          </view>
        </view>
        <view class="divider"></view>

      </block>
    </view>
  </scroll-view>
</view>


<!-- ç•™è¨€åŒºåŸŸ -->
<view class="messagePanelParent">
  <van-cell-group inset class="messagePanel">
    <van-field bind:change='onChange' value="{{ comments }}" rows="2" left-icon="comment" right-icon="info-o" label="ç•™è¨€æ¿ï¼š" type="textarea" maxlength="49" placeholder="ä½ æƒ³è·Ÿå¤§å®¶è¯´ç‚¹å•¥ï¼Ÿï¼Ÿï¼Ÿ" show-word-limit />
    <van-cell>
      <van-button icon="smile-o" round size="small" type="primary" bindtap="chooseImg">æ–—å›¾</van-button>
      <van-button icon="volume-o" type="info" size="small" round bindtap="addComments">å‘é€</van-button>
    </van-cell>
  </van-cell-group>
</view>